const _0xc41af7=_0x29de;(function(_0x529603,_0x1f0303){const _0x15222c=_0x29de,_0x2526fa=_0x529603();while(!![]){try{const _0x28244b=-parseInt(_0x15222c(0x14a))/0x1+-parseInt(_0x15222c(0x129))/0x2*(-parseInt(_0x15222c(0x14e))/0x3)+parseInt(_0x15222c(0x124))/0x4+parseInt(_0x15222c(0x131))/0x5+-parseInt(_0x15222c(0x13c))/0x6*(-parseInt(_0x15222c(0x147))/0x7)+-parseInt(_0x15222c(0x14f))/0x8+parseInt(_0x15222c(0x126))/0x9;if(_0x28244b===_0x1f0303)break;else _0x2526fa['push'](_0x2526fa['shift']());}catch(_0x4b75fa){_0x2526fa['push'](_0x2526fa['shift']());}}}(_0x394b,0xe078c));const {TelegraPh,bgms}=require('../lib/'),ffmpeg=require(_0xc41af7(0x12c)),axios=require(_0xc41af7(0x157)),{getBuffer,cmd,Config}=require('../lib/'),fs=require(_0xc41af7(0x127)),util=require(_0xc41af7(0x143)),exec=util[_0xc41af7(0x154)](require(_0xc41af7(0x12a))[_0xc41af7(0x13b)]);function _0x29de(_0x5eabc9,_0xde6993){const _0x394b29=_0x394b();return _0x29de=function(_0x29deed,_0x530772){_0x29deed=_0x29deed-0x122;let _0x30b348=_0x394b29[_0x29deed];return _0x30b348;},_0x29de(_0x5eabc9,_0xde6993);}async function convertAudioToBlackScreenVideo(_0x40886a,_0x3e542b){const _0x1cac83=_0xc41af7;try{try{fs['unlinkSync'](_0x3e542b);}catch(_0x54bd55){}const _0x58182f=_0x1cac83(0x153)+_0x40886a,{stdout:_0x104894}=await exec(_0x58182f),_0x3b72cf=parseFloat(_0x104894);try{fs[_0x1cac83(0x14b)](_0x1cac83(0x122));}catch(_0x20cd0d){}const _0x277d47=_0x1cac83(0x135)+_0x3b72cf+_0x1cac83(0x13d);await exec(_0x277d47);const _0x51204c='ffmpeg\x20-i\x20./blackScreen.mp4\x20-i\x20'+_0x40886a+_0x1cac83(0x149)+_0x3e542b;return await exec(_0x51204c),console[_0x1cac83(0x136)](_0x1cac83(0x14d)),{'result':!![]};}catch(_0x20a57d){return console[_0x1cac83(0x13f)]('An\x20error\x20occurred:',_0x20a57d),{'result':![]};}}cmd({'pattern':_0xc41af7(0x146),'desc':_0xc41af7(0x123),'category':_0xc41af7(0x141),'filename':__filename},async(_0x59d490,_0xb485c7,_0xd58b02)=>{const _0x1f2c06=_0xc41af7;if(!_0xd58b02)return await _0xb485c7[_0x1f2c06(0x134)]('*Give\x20Me\x20Song\x20Name\x20to\x20Delete\x20From\x20BGM*');let _0x3e31ec=await bgms[_0x1f2c06(0x156)]({'id':'3'})||await new bgms({'id':'3'})[_0x1f2c06(0x128)]();return _0x3e31ec[_0x1f2c06(0x130)][_0x1f2c06(0x14c)](_0xd58b02)?(_0x3e31ec[_0x1f2c06(0x130)]['delete'](_0xd58b02),await _0x3e31ec[_0x1f2c06(0x128)](),await _0xb485c7[_0x1f2c06(0x134)]('*Song\x20_'+_0xd58b02+'_\x20removed\x20from\x20BGM.*')):await _0xb485c7[_0x1f2c06(0x134)](_0x1f2c06(0x12d)+_0xd58b02+'\x27_\x20does\x20not\x20exist\x20in\x20BGM.');}),cmd({'pattern':'allbgm','desc':_0xc41af7(0x123),'category':'general','filename':__filename},async(_0x70e4b9,_0x280e98,_0x51b88d)=>{const _0xe8d0da=_0xc41af7;_0x51b88d=_0xe8d0da(0x125);const {TelegraPh:_0x30e767,bgm:_0x245a95}=require(_0xe8d0da(0x155));let _0x41f694=await bgms[_0xe8d0da(0x156)]({'id':'3'})||await new bgms({'id':'3'})['save']();for(const [_0x86e821,_0x90d62]of _0x41f694['bgmArray']){_0x51b88d+='*'+_0x86e821+'\x20:*\x20_'+_0x90d62+_0xe8d0da(0x132);}return await _0x280e98[_0xe8d0da(0x134)](_0x51b88d);}),cmd({'pattern':_0xc41af7(0x139),'desc':_0xc41af7(0x123),'category':_0xc41af7(0x141),'filename':__filename},async(_0x504ffe,_0x57a918,_0x1a607e)=>{const _0x583817=_0xc41af7;if(!_0x57a918[_0x583817(0x138)])return await _0x57a918['reply'](_0x583817(0x133));if(!_0x1a607e)return await _0x57a918['reply'](_0x583817(0x12b));let _0x4ab77a=![],_0x1c2160='';if(_0x57a918[_0x583817(0x138)]['mtype']==_0x583817(0x150))_0x1c2160=await _0x504ffe[_0x583817(0x137)](_0x57a918[_0x583817(0x138)]),_0x4ab77a=!![];else{if(_0x57a918['quoted']['mtype']==_0x583817(0x140)){_0x4ab77a=![];let _0x341a7e=await _0x504ffe[_0x583817(0x137)](_0x57a918[_0x583817(0x138)],_0x583817(0x142)),_0x11ac95=await convertAudioToBlackScreenVideo(_0x341a7e,_0x583817(0x145));_0x11ac95[_0x583817(0x158)]&&(_0x1c2160=_0x583817(0x145));}else return await _0x57a918['reply'](_0x583817(0x133));}if(!_0x1c2160)return await _0x57a918[_0x583817(0x134)](_0x583817(0x13a));let _0x2d922b=await TelegraPh(_0x1c2160),_0x462d45=await bgms['findOne']({'id':'3'})||await new bgms({'id':'3'})[_0x583817(0x128)]();try{return _0x462d45['bgmArray'][_0x583817(0x144)](_0x1a607e,_0x2d922b),await _0x462d45[_0x583817(0x128)](),await _0x57a918[_0x583817(0x134)](_0x583817(0x148)+_0x1a607e+'*');}catch(_0x33ee2a){return await _0x57a918[_0x583817(0x134)](_0x583817(0x151)+_0x33ee2a);}}),cmd({'on':_0xc41af7(0x159)},async(_0x42a254,_0xfcb5e9,_0x1eece9)=>{const _0x56664e=_0xc41af7;if(Config[_0x56664e(0x13e)]){let _0x46ea65='\x20'+_0xfcb5e9[_0x56664e(0x159)]+'\x20',_0x10cf7c=await bgms[_0x56664e(0x156)]({'id':'3'})||await new bgms({'id':'3'})[_0x56664e(0x128)]();for(const [_0x5553d1,_0xb4ad74]of _0x10cf7c[_0x56664e(0x130)]){let _0x5dc190=_0x5553d1+'\x20';if(_0x46ea65[_0x56664e(0x12f)]()['includes'](_0x5dc190))return await _0x42a254[_0x56664e(0x152)](_0xfcb5e9[_0x56664e(0x15a)],{'audio':{'url':_0xb4ad74},'mimetype':_0x56664e(0x12e),'ptt':!![],'waveform':[0x63,0x4b,0x19,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x5,0x19,0x32,0x4b,0x63,0x4b,0x32,0x19,0x0]});}}});function _0x394b(){const _0x3c71da=['4262656QmnVaL','videoMessage','Error\x20updating\x20BGM:','sendMessage','ffprobe\x20-v\x20error\x20-show_entries\x20format=duration\x20-of\x20default=noprint_wrappers=1:nokey=1\x20','promisify','../lib/','findOne','axios','result','text','chat','./blackScreen.mp4','create\x20paste\x20of\x20text.','1284924MFBxWu','\x20*BGM\x20SONG\x20INFORMATION*\x0a','9384948owAmvz','fs-extra','save','6538urpyxl','child_process','Uhh\x20Please\x20give\x20Bgm\x20Song\x20NAme','fluent-ffmpeg','Name\x20_\x27','audio/mpeg','toLowerCase','bgmArray','1831660VOgLCp','_\x20\x0a','Uhh\x20Please,\x20Reply\x20to\x20Audio/Video\x20To\x20Add\x20In\x20Bgm','reply','ffmpeg\x20-f\x20lavfi\x20-i\x20color=c=black:s=1280x720:d=','log','downloadAndSaveMediaMessage','quoted','addbgm','There\x27s\x20an\x20Error\x20While\x20Adding\x20Bgm\x20Song','exec','5451258BrTtzH','\x20-vf\x20\x22format=yuv420p\x22\x20./blackScreen.mp4','disablepm','error','audioMessage','general','audio','util','set','./convertedVideo.mp4','delbgm','7GCiVid','*New\x20Song\x20Added\x20in\x20BGM\x20with\x20Name\x20:\x20','\x20-c:v\x20copy\x20-c:a\x20aac\x20-map\x200:v:0\x20-map\x201:a:0\x20','1608311MPHxYn','unlinkSync','has','Audio\x20converted\x20to\x20black\x20screen\x20video\x20successfully!','387ZjKKxR'];_0x394b=function(){return _0x3c71da;};return _0x394b();}
